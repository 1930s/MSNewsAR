/*! Microsoft News Center - v0.1.0
 * https://news.microsoft.com
 * Copyright (c) 2018; */

!function(o,i,r){"use strict";var a=o(i),n=o("body"),l=o(".context-mnc-search, .context-mnc-archive"),t=function(){var t,e,i,a=l.find(".m-preview"),n=l.find(".m-preview-content");t=a,e="col-4",i="col-6",r.mq("(min-width: 1079px)")?t.attr("data-grid",e):r.mq("(max-width: 1078px)")&&t.attr("data-grid",i),n.css("height","auto"),(r.mq("(min-width: 767px)")||o.ieVersion<9)&&c(n)},c=function(a){var n=0,o=[],r=0;Array.prototype.forEach.call(a,function(t,e){var i=a[e+1]||null;if(t.getBoundingClientRect().top!==n&&(n=t.getBoundingClientRect().top,r=0,o=[]),o.push(t),(r=t.offsetHeight>r?t.offsetHeight:r)<1)return setTimeout(function(){c(a)},1e3);(!i||i.getBoundingClientRect().top!==n)&&1<o.length&&Array.prototype.forEach.call(o,function(t){t.style.minHeight=r+"px"})})},f=function(){var t=o(this);t.attr("title",t.text()),t.attr("aria-label",t.text())};void 0!==document.documentMode&&(o.ieVersion=document.documentMode),a.on("resize",function(){var a,t=o(".f-col-height-match");o(".m-preview").css("display","block"),t.each(function(){var t=o(this);(a>t.outerHeight(!0)||void 0===a)&&(a=t.outerHeight(!0))}),t.each(function(){var t,e,i=o(this);a<i.outerHeight(!0)&&(t=i.find(".m-preview"),e=0,t.each(function(){e<a-64&&(e+=i.outerHeight(!0))}))})}),a.on("resize",function(){var t=o(".f-pivot-toggle"),e=t.find(".f-pivot-panel");r.mq("(min-width: 768px)")?(t.removeClass("c-pivot"),e.removeAttr("aria-hidden")):r.mq("(max-width: 767px)")&&(t.hasClass("c-pivot")||(t.addClass("c-pivot"),e.attr("aria-hidden",!0),o(".f-pivot-toggle #pivot-target-1").attr("aria-hidden",!1),o(".f-pivot-toggle header a").removeClass("f-active"),o(".f-pivot-toggle header a:first-of-type").addClass("f-active")))}),a.on("resize",function(){var t=o(".m-preview.f-horiztonal-placement"),e=o(".m-preview.f-vertical-placement");t.width()<400&&(t.addClass("f-vertical-placement"),t.removeClass("f-horiztonal-placement")),(352<=e.width()||r.mq("(max-width: 768px)")&&r.mq("(min-width: 336px)"))&&(e.addClass("f-horiztonal-placement"),e.removeClass("f-vertical-placement"))}),a.on("resize",function(){var t=o(".mnc-lg-panel"),e=o(".mnc-md-panel"),i=o(".mnc-lgSolo-panel");r.mq("(min-width: 768px)")?(i.attr("data-f-mosaic","f-vp1-whole f-vp4-whole f-height-medium"),t.attr("data-f-mosaic","f-vp1-whole f-vp3-half f-height-medium"),e.attr("data-f-mosaic","f-vp1-whole f-vp2-half f-height-medium")):r.mq("(max-width: 767px)")&&(t.attr("data-f-mosaic","f-vp1-whole f-vp3-half f-height-large"),e.attr("data-f-mosaic","f-vp1-whole f-height-large"),i.attr("data-f-mosaic","f-vp1-whole f-vp4-whole f-height-large"),o(".c-mosaic-placement").removeClass("f-height-large").addClass("f-height-medium"))}),a.on("resize",t),n.on("click",".c-pivot",t),o(function(){var t,e;o.ieVersion=null,a.trigger("resize"),n.hasClass("home")&&(t=o(".widget"),e=o(".widget_wpcom_social_media_icons_widget"),t.attr("role","complementary"),e.attr("aria-label",i.mncI18n.followUs),e.find("a").each(f))}),setTimeout(function(){a.trigger("resize")},2500)}(jQuery,window,window.Modernizr),function(c){"use strict";c.msGallerySlider=function(t){var e=0,i=0,a=c(t),n=function(){l(i<e+1?0:e+1)},o=function(){l(e-1<0?i:e-1)},r=function(){l(parseInt(this.id.replace("thumbnail-slide",""),10))},l=function(t){a.find(".slide:visible").fadeOut(50),a.find(".slide:eq("+t+")").fadeIn(),e=t};this.init=function(){a.find(".slide:not(:first)").hide(),i=a.find(".slide").length-1,a.on("click",".next",n),a.on("click",".prev",o),a.on("click",".thumbnails .thumbnail",r)},this.init()},c.fn.msGallerySlider=function(){return this.each(function(){null==c(this).data("msGallerySlider")&&c(this).data("msGallerySlider",new c.msGallerySlider(this))})},c(function(){c(".ms-gallery").msGallerySlider()})}(jQuery);